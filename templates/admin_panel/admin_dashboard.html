<h2>Admin Dashboard</h2>

<h3>Manage Services</h3>
<a href="{{ url_for('admin.create_service') }}" class="btn btn-primary">Create New Service</a>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Service Name</th>
            <th>Base Price</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        {% for service in services %}
        <tr>
            <td>{{ service.id }}</td>
            <td>{{ service.name }}</td>
            <td>{{ service.price }}</td>
            <td>{{ service.description }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h3>Manage Professionals</h3>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Service Type</th>
            <th>Approval Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for professional in professionals %}
        <tr>
            <td>{{ professional.id }}</td>
            <td>{{ professional.name }}</td>
            <td>{{ professional.service_type }}</td>
            <td>{{ 'Approved' if professional.is_approved else 'Pending' }}</td>
            <td>
                {% if not professional.is_approved %}
                <form action="{{ url_for('admin.approve_professional', professional_id=professional.id) }}" method="POST">
                    <button type="submit" class="btn btn-success">Approve</button>
                </form>
                {% endif %}
                <form action="{{ url_for('admin.block_user', user_type='professional', user_id=professional.id) }}" method="POST">
                    <button type="submit" class="btn btn-danger">Block</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h3>Manage Customers</h3>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for customer in customers %}
        <tr>
            <td>{{ customer.id }}</td>
            <td>{{ customer.name }}</td>
            <td>{{ 'Blocked' if customer.is_blocked else 'Active' }}</td>
            <td>
                <form action="{{ url_for('admin.block_user', user_type='customer', user_id=customer.id) }}" method="POST">
                    <button type="submit" class="btn btn-danger">Block</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
