{% extends "base.html" %}

{% block title %}Professional Dashboard{% endblock %}

{% block content %}
<h2>Service Requests</h2>

<table class="table mt-4">
    <thead>
        <tr>
            <th>ID</th>
            <th>Service Requested</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for request in requests %}
        <tr>
            <td>{{ request.id }}</td>
            <td>{{ request.service.name }}</td>
            <td>{{ request.status }}</td>
            <td>
                {% if request.status == 'requested' %}
                    <a href="/professional/request/accept/{{ request.id }}" class="btn btn-success">Accept</a>
                    <a href="/professional/request/reject/{{ request.id }}" class="btn btn-danger">Reject</a>
                {% elif request.status == 'assigned' %}
                    <a href="/professional/request/close/{{ request.id }}" class="btn btn-warning">Close</a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
